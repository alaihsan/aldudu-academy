<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor Kuis: {{ quiz.name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='quiz_editor.css') }}">
    <script src="https://unpkg.com/htmx.org@1.9.6/dist/htmx.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="quiz-header-nav">
            <a href="{{ url_for('main.course_detail', course_id=quiz.course_id) }}" class="back-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="20" height="20">
                    <path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z" clip-rule="evenodd" />
                </svg>
                Selesai & Kembali
            </a>
        </div>

        <h1>Editor Kuis: <strong>{{ quiz.name }}</strong></h1>
        <p class="page-description">Gunakan formulir di bawah ini untuk membuat dan mengedit pertanyaan untuk kuis Anda. Semua perubahan disimpan secara otomatis.</p>

        <div id="question-list">
            {% for question in quiz.questions.order_by('order') %}
                {% include '_question_form.html' %}
            {% endfor %}
        </div>

        <div class="add-question-container">
            <form 
                hx-post="{{ url_for('quiz.api_add_question', quiz_id=quiz.id) }}"
                hx-target="#question-list"
                hx-swap="beforeend"
                class="add-question-form">
                
                <select name="question_type" class="question-type-selector">
                    <option value="MULTIPLE_CHOICE">Pilihan Ganda</option>
                    <option value="TRUE_FALSE">Benar/Salah</option>
                    <option value="LONG_TEXT">Teks Panjang</option>
                </select>
                
                <button type="submit" class="btn-add-question">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="20" height="20">
                        <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                    </svg>
                    <span>Tambah Pertanyaan</span>
                </button>
            </form>
        </div>
    </div>
</body>
</html>