{# templates/_answer_options.html #}

{% if question.question_type == QuestionType.MULTIPLE_CHOICE %}
    <div class="option-list" id="option-list-{{ question.id }}">
        {% for option in question.options|sort(attribute='order') %}
            {% include '_option_form.html' %}
        {% endfor %}
    </div>
    <div class="add-option-row">
        <button class="btn-add-option"
                hx-post="{{ url_for('quiz.api_add_option', question_id=question.id) }}"
                hx-target="#option-list-{{ question.id }}"
                hx-swap="beforeend"
                hx-indicator="#spinner-{{ question.id }}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="18" height="18">
                <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
            </svg>
            Tambah Opsi
        </button>
    </div>
{% elif question.question_type == QuestionType.TRUE_FALSE %}
    <div class="option-list-static">
        {% for option in question.options|sort(attribute='order') %}
            <label class="option-label-static">
                <input type="radio"
                       name="correct_option_q{{ question.id }}"
                       value="{{ option.id }}"
                       hx-post="{{ url_for('quiz.api_question_set_correct_option', question_id=question.id) }}"
                       hx-trigger="change"
                       hx-indicator="#spinner-{{ question.id }}"
                       {% if option.is_correct %}checked{% endif %}>
                <span class="option-radio-custom"></span>
                <span class="option-text">{{ option.option_text }}</span>
            </label>
        {% endfor %}
    </div>
{% elif question.question_type == QuestionType.LONG_TEXT %}
    <div class="long-text-placeholder">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="24" height="24">
            <path fill-rule="evenodd" d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 5.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z" clip-rule="evenodd" />
        </svg>
        <p>Siswa akan menjawab dengan teks esai singkat.</p>
        <span class="note">Tidak ada jawaban benar yang perlu dikonfigurasi untuk tipe soal ini.</span>
    </div>
{% endif %}
